(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{66:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),s=a.n(c),o=a(10),i=a(4),u=a(5),h=a(7),l=a(6),p=(a(26),a(1)),b=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={search:""},e.onSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.search),e.setState({search:""})},e.onChange=function(t){e.setState({search:t.target.value})},e}return Object(u.a)(a,[{key:"render",value:function(){return Object(p.jsx)("header",{className:"Searchbar",children:Object(p.jsxs)("form",{className:"SearchForm",onSubmit:this.onSubmit,children:[Object(p.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(p.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(p.jsx)("input",{onChange:this.onChange,name:"searh",value:this.state.search,className:"SearchForm-input",type:"text",autocomplete:"off",autofocus:!0,placeholder:"Search images and photos"})]})})}}]),a}(n.Component),j=a(21),m=a.n(j),f=function(){function e(){Object(i.a)(this,e),this._searchQuery="",this.page=1}return Object(u.a)(e,[{key:"searchQuery",get:function(){return this._searchQuery},set:function(e){return this._searchQuery=e}},{key:"searchPage",get:function(){return this.page},set:function(e){return this.page=e}},{key:"resetPage",value:function(){return this.page=1}},{key:"searchPhotos",value:function(){var e="https://pixabay.com/api/"+"?q=".concat(this.searchQuery,"&page=").concat(this.page,"&per_page=12&image_type=photo&orientation=horizontal&key=").concat("23081749-b9f3d38fc4718cbd45a8beed9");return m.a.get(e).then((function(e){return e})).catch((function(e){console.log(e)}))}}]),e}(),g=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={modalIsOpen:!1},e}return Object(u.a)(a,[{key:"render",value:function(){return this.props.images.map((function(e){var t=e.webformatURL,a=e.id,n=e.tags;return Object(p.jsx)("li",{className:"ImageGalleryItem",children:Object(p.jsx)("img",{src:t,alt:n,className:"ImageGalleryItem-image"})},a)}))}}]),a}(n.Component),O=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("ul",{className:"ImageGallery",children:Object(p.jsx)(g,{images:this.props.images})})})}}]),a}(n.Component),d=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(){return e.props.onClick(1)},e}return Object(u.a)(a,[{key:"render",value:function(){return Object(p.jsx)("button",{onClick:this.handleClick,className:"Button",type:"button",children:"Load More!"})}}]),a}(n.Component),y=(a(66),a(67),new f),v=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={search:"",page:1,responseData:[],modalIsOpen:!1},e.onSearchFormSubmit=function(t){e.setState({search:t})},e.onClick=function(t){e.setState((function(e){return{page:e.page+1}})),y.searchPage=e.state.page,y.searchPhotos().then((function(t){e.setState((function(e){return{responseData:[].concat(Object(o.a)(e.responseData),Object(o.a)(t.data.hits))}}))})).catch((function(e){console.log(e)}))},e}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;t.search!==this.state.search&&(y.resetPage(),y.searchQuery=this.state.search,y.searchPhotos().then((function(e){a.setState({responseData:Object(o.a)(e.data.hits)})})).then(this.setState((function(e){return{page:e.page+1}}))))}},{key:"render",value:function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(b,{onSubmit:this.onSearchFormSubmit}),Object(p.jsx)(O,{images:this.state.responseData}),this.state.responseData.length>0&&Object(p.jsx)(d,{onClick:this.onClick})]})}}]),a}(n.Component);s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(v,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.590ad7f7.chunk.js.map