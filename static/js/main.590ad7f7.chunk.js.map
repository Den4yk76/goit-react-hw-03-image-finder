{"version":3,"sources":["components/Searchbar/Searchbar.js","components/utils/PixabayFetch.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","App.js","index.js"],"names":["Searchbar","state","search","onSubmit","e","preventDefault","props","setState","onChange","target","value","className","this","type","name","autocomplete","autofocus","placeholder","Component","PixabayFetch","_searchQuery","page","url","searchQuery","axios","get","then","result","catch","err","console","log","ImageGalleryItem","modalIsOpen","images","map","webformatURL","id","tags","src","alt","ImageGallery","Button","handleClick","onClick","newPixabayFetch","App","responseData","onSearchFormSubmit","prevState","searchPage","searchPhotos","res","data","hits","prevProps","resetPage","length","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.590ad7f7.chunk.js","sourcesContent":["import { Component } from 'react';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    search: '',\r\n  };\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.search);\r\n    this.setState({ search: '' });\r\n  };\r\n  onChange = e => {\r\n    this.setState({ search: e.target.value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.onSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.onChange}\r\n            name=\"searh\"\r\n            value={this.state.search}\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autocomplete=\"off\"\r\n            autofocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import axios from 'axios';\r\n\r\nexport default class PixabayFetch {\r\n  constructor() {\r\n    this._searchQuery = '';\r\n    this.page = 1;\r\n  }\r\n\r\n  get searchQuery() {\r\n    return this._searchQuery;\r\n  }\r\n  set searchQuery(value) {\r\n    return (this._searchQuery = value);\r\n  }\r\n\r\n  get searchPage() {\r\n    return this.page;\r\n  }\r\n\r\n  set searchPage(value) {\r\n    return (this.page = value);\r\n  }\r\n\r\n  resetPage() {\r\n    return (this.page = 1);\r\n  }\r\n\r\n  searchPhotos() {\r\n    const base_url = 'https://pixabay.com/api/';\r\n    const api_key = '23081749-b9f3d38fc4718cbd45a8beed9';\r\n\r\n    const params = `?q=${this.searchQuery}&page=${this.page}&per_page=12&image_type=photo&orientation=horizontal&key=${api_key}`;\r\n    const url = base_url + params;\r\n\r\n    return axios\r\n      .get(url)\r\n      .then(result => {\r\n        return result;\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n}\r\n\r\n// key 23081749-b9f3d38fc4718cbd45a8beed9\r\n// https://pixabay.com/api/?q=что_искать&page=номер_страницы&key=твой_ключ&image_type=photo&orientation=horizontal&per_page=12\r\n","import { Component } from 'react';\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n  state = {\r\n    modalIsOpen: false,\r\n  };\r\n  render() {\r\n    return this.props.images.map(({ webformatURL, id, tags }) => {\r\n      return (\r\n        <li key={id} className=\"ImageGalleryItem\">\r\n          <img\r\n            src={webformatURL}\r\n            alt={tags}\r\n            className=\"ImageGalleryItem-image\"\r\n          />\r\n        </li>\r\n      );\r\n    });\r\n  }\r\n}\r\n","import { Component } from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nexport default class ImageGallery extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        <ul className=\"ImageGallery\">\r\n          <ImageGalleryItem images={this.props.images} />\r\n        </ul>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import { Component } from 'react';\r\n\r\nexport default class Button extends Component {\r\n  handleClick = () => {\r\n    return this.props.onClick(1);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <button onClick={this.handleClick} className=\"Button\" type=\"button\">\r\n        Load More!\r\n      </button>\r\n    );\r\n  }\r\n  //   this.state.responseData.length > 0 && <Button onClick={this.onClick} />;\r\n}\r\n","import { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport PixabayFetch from './components/utils/PixabayFetch';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\n\nimport './styles.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst newPixabayFetch = new PixabayFetch();\n\nexport default class App extends Component {\n  state = {\n    search: '',\n    page: 1,\n    responseData: [],\n    modalIsOpen: false,\n    // isLoading: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.search !== this.state.search) {\n      newPixabayFetch.resetPage();\n      newPixabayFetch.searchQuery = this.state.search;\n      newPixabayFetch\n        .searchPhotos()\n        .then(res => {\n          this.setState({ responseData: [...res.data.hits] });\n        })\n        .then(this.setState(prevState => ({ page: prevState.page + 1 })));\n    }\n  }\n\n  onSearchFormSubmit = search => {\n    this.setState({ search });\n  };\n\n  onClick = value => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n    newPixabayFetch.searchPage = this.state.page;\n    newPixabayFetch\n      .searchPhotos()\n      .then(res => {\n        this.setState(prevState => ({\n          responseData: [...prevState.responseData, ...res.data.hits],\n        }));\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  render() {\n    return (\n      <>\n        <Searchbar onSubmit={this.onSearchFormSubmit} />\n        <ImageGallery images={this.state.responseData} />\n        {this.state.responseData.length > 0 && (\n          <Button onClick={this.onClick} />\n        )}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}